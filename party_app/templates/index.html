{% extends "base.html" %}
{% block title %}PartySense{% endblock %}
{% block content %}
<h1>Welcome, {{ user }}!</h1>

<!-- Search Music -->
<div>
    <label for="search">Search Music:</label>
    <input type="text" id="search" placeholder="Enter song or artist">
    <button onclick="searchMusic()">Search</button>
</div>

<div id="search-results">
    <h3>Search Results:</h3>
    <ul id="results-list"></ul>
</div>

<!-- Volume Control -->
<div>
    <label for="volume-control">Volume:</label>
    <input type="range" id="volume-control" min="0" max="100" step="1">
</div>

<script>
    function searchMusic() {
        const query = document.getElementById('search').value;
        fetch(`/search?query=${query}`)
            .then(response => response.json())
            .then(data => {
                const resultsList = document.getElementById('results-list');
                resultsList.innerHTML = '';
                data.items.forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = item.snippet.title;
                    resultsList.appendChild(li);
                });
            });
    }
</script>
{% endblock %}
